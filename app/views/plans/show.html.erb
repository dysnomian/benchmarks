<% content_for :js_head do
  javascript_pack_tag "application_react", 'data-turbolinks-track': 'reload'
end %>

<% chart_labels_by_technical_area = [
    "Legislation",
    "IHR coordination",
    "AMR",
    "Zoonotic disease",
    "Food safety",
    "Immunization",
    "Laboratory",
    "Biosafety & biosecurity",
    "Surveillance",
    "Human resources",
    "Preparedness",
    "Rapid response",
    "Linking public health",
    "Medical countermeasures",
    "Risk communication",
    "Points of entry",
    "Chemical events",
    "Radiation",
] %>

<%= react_component("PlanEditPage") %>

<script type="application/javascript">
    window.STATE_FROM_SERVER = {
        formAuthenticityToken: "<%= form_authenticity_token %>",
        formActionUrl: "<%= url_for(@plan) %>",
        technicalAreas: <%= raw @benchmark_technical_areas.to_json %>,
        indicators: <%= raw @benchmark_indicators.to_json %>,
        actions: <%= raw @all_actions.to_json %>,
        plan: <%= raw @plan.to_json %>,
        planActionIds: <%= @plan.action_ids %>,
        planGoals: <%= raw @plan.goals.to_json %>,
        planChartLabels: <%= raw [chart_labels_by_technical_area, BenchmarkIndicatorAction::ACTION_TYPES].to_json %>,
    };
    window.NUDGES_BY_ACTION_TYPE = <%= raw @nudges_by_action_type_json %>;
</script>
